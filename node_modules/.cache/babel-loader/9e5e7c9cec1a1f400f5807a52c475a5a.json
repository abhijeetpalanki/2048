{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proj\\\\2048\\\\src\\\\components\\\\Board.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Board } from \"../helper\";\nimport Cell from './Cell';\nimport Tile from './Tile';\nimport useEvent from './../hooks/useEvent';\nimport GameOverLayout from './GameOverLayout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BoardView = () => {\n  _s();\n\n  const [board, setBoard] = useState(new Board());\n\n  const handleKeyDown = event => {\n    if (board.hasWon()) {\n      return;\n    }\n\n    if (event.keyCode >= 37 && event.keyCode <= 40) {\n      let direction = event.keyCode - 37;\n      let boardClone = Object.assign(Object.create(Object.getPrototypeOf(board)), board);\n      let newBoard = boardClone.move(direction);\n      setBoard(newBoard);\n    }\n  };\n\n  useEvent(\"keydown\", handleKeyDown);\n  const cells = board.cells.map((row, rowIndex) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: row.map((col, colIndex) => {\n        return /*#__PURE__*/_jsxDEV(Cell, {}, rowIndex * board.size + colIndex, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 28\n        }, this);\n      })\n    }, rowIndex, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this);\n  });\n  const tiles = board.tiles.filter(tile => tile.value !== 0).map((tile, index) => {\n    return /*#__PURE__*/_jsxDEV(Tile, {\n      tile: tile\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 16\n    }, this);\n  });\n\n  const resetGame = () => {\n    setBoard(new Board());\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"details-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resetButton\",\n        onClick: resetGame,\n        children: \"New Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-header\",\n          children: \"SCORE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: board.score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board\",\n      children: [cells, tiles, /*#__PURE__*/_jsxDEV(GameOverLayout, {\n        onRestart: resetGame,\n        board: board\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), JSON.stringify(board.hasLost())]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BoardView, \"A107XT3o2FahMcg/61oYRWSixok=\", false, function () {\n  return [useEvent];\n});\n\n_c = BoardView;\nexport default BoardView;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardView\");","map":{"version":3,"sources":["C:/Proj/2048/src/components/Board.jsx"],"names":["React","useState","useEffect","Board","Cell","Tile","useEvent","GameOverLayout","BoardView","board","setBoard","handleKeyDown","event","hasWon","keyCode","direction","boardClone","Object","assign","create","getPrototypeOf","newBoard","move","cells","map","row","rowIndex","col","colIndex","size","tiles","filter","tile","value","index","resetGame","score","JSON","stringify","hasLost"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Board } from \"../helper\";\r\nimport Cell from './Cell';\r\nimport Tile from './Tile';\r\nimport useEvent from './../hooks/useEvent';\r\nimport GameOverLayout from './GameOverLayout';\r\n\r\nconst BoardView = () => {\r\n    const [board, setBoard] = useState(new Board());\r\n\r\n    const handleKeyDown = (event) => {\r\n        if (board.hasWon()) {\r\n            return;\r\n        }\r\n\r\n        if (event.keyCode >= 37 && event.keyCode <= 40) {\r\n            let direction = event.keyCode - 37;\r\n            let boardClone = Object.assign(Object.create(Object.getPrototypeOf(board)), board);\r\n            let newBoard = boardClone.move(direction);\r\n            setBoard(newBoard);\r\n\r\n        }\r\n    };\r\n\r\n    useEvent(\"keydown\", handleKeyDown);\r\n\r\n    const cells = board.cells.map((row, rowIndex) => {\r\n        return (\r\n            <div key={rowIndex}>\r\n                {row.map((col, colIndex) => {\r\n                    return <Cell key={rowIndex * board.size + colIndex} />\r\n                })}\r\n            </div>\r\n        )\r\n    });\r\n\r\n    const tiles = board.tiles.filter(tile => tile.value !== 0).map((tile, index) => {\r\n        return <Tile key={index} tile={tile} />\r\n    }) ;\r\n\r\n    const resetGame = () => {\r\n        setBoard(new Board());\r\n    }; \r\n\r\n    return (\r\n        <div>\r\n            <div className=\"details-box\">\r\n                <div className=\"resetButton\" onClick={resetGame}>New Game</div>\r\n                <div className=\"score-box\">\r\n                    <div className=\"score-header\">SCORE</div>\r\n                    <div>{board.score}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"board\">\r\n                {cells}{tiles}\r\n                <GameOverLayout onRestart={resetGame} board={board} />\r\n            </div>\r\n            {JSON.stringify(board.hasLost())}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BoardView\r\n"]},"metadata":{},"sourceType":"module"}